(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5970)}])},1460:function(e,t,n){"use strict";n.d(t,{Av:function(){return b},PB:function(){return j},TU:function(){return f},Un:function(){return m},ZP:function(){return S}});var r=n(5893),l=n(7916),s=n(5859),i=n(6447),o=n(913),a=n(3841),u=n(4226),c=n(5819),d=n(1903),h=n(3454),x=n(6420),g=n(7383),p=n(7294);let f=["Seed 1","Seed 2","Seed 3","Seed 4"],j=["red","green","blue","orange"],b={};for(let v=0;v<f.length;v++)b[f[v]]=j[v];let m={Satellite:{icon:(0,r.jsx)(l.Z,{}),url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"},Road:{icon:(0,r.jsx)(s.Z,{}),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}};function S(e){let{seed:t,setSeed:n,numSeeds:l,setNumSeeds:s,mapTile:j,setMapTile:b}=e,[v,S]=(0,p.useState)(!1);return(0,r.jsxs)(i.Z,{direction:"row",spacing:2,mx:"auto",children:[(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(a.Z,{children:"Seed Type"}),(0,r.jsx)(u.Z,{value:t,label:"Seed Type",onChange:e=>n(e.target.value),sx:{width:"200px"},required:!0,children:f.map((e,t)=>(0,r.jsx)(c.Z,{value:e,children:e},t))})]}),(0,r.jsx)(d.Z,{type:"number",label:"Num of Seeds",defaultValue:l,InputProps:{inputProps:{min:1,max:10,step:1}},error:v,helperText:v?"Must be between 1 and ".concat(10):"",onChange:e=>{var t;(t=e.target.value)&&t>=1&&t<=10?(s(Number(e.target.value)),S(!1)):S(!0)},sx:{width:"200px"},required:!0}),(0,r.jsxs)(i.Z,{direction:"row",alignItems:"center",spacing:2,marginLeft:"55px !important",children:[(0,r.jsxs)(a.Z,{sx:{fontSize:"12px"},children:["Map",(0,r.jsx)("br",{}),"View"]}),(0,r.jsx)(h.Z,{value:j,exclusive:!0,onChange:(e,t)=>!!t&&b(t),children:Object.entries(m).map((e,t)=>{let[n,l]=e;return(0,r.jsx)(x.Z,{value:l.url,children:(0,r.jsx)(g.Z,{title:n,children:l.icon})},t)})})]})]})}},1990:function(e,t,n){"use strict";n.d(t,{n:function(){return Z},Z:function(){return P}});var r=n(5893),l=n(2293),s=n(155),i=n(5861),o=n(9008),a=n.n(o),u=n(5675),c=n.n(u),d=n(7294),h=n(1460),x=n(1774),g=n(3321),p=n(8456),f=n(8838),j=n.n(f),b=n(6486);let v=e=>{console.log("Transmitting data:",e)},m=e=>{let{setLoading:t,coords:n,myPosition:r,setPath:l}=e;return e=>{e.preventDefault(),t(!0),console.log("Coords received:",n);let s=function(e,t){let n,r,l=(0,b.cloneDeep)(t),s=e,i=[];for(;l.length>0;){n=Number.MAX_VALUE;for(let o=0;o<l.length;o++){let a=l[o].latlng,u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=e.lat,l=e.lng,s=t.lat,i=t.lng;var o=Math.PI*r/180,a=Math.PI*s/180,u=Math.sin(o)*Math.sin(a)+Math.cos(o)*Math.cos(a)*Math.cos(Math.PI*(l-i)/180);return u=180*(u=Math.acos(u))/Math.PI*69.09,"K"==n&&(u*=1.609344),"M"==n&&(u*=.8684),u}(s,a);u<n&&(n=u,r=a)}j()(!!r,"Closest point should be defined"),s=r,i.push(r),l=l.filter(e=>e.latlng!==r)}return i}(r,n);console.log("Computed path:",s),l(s),v({}),t(!1)}};function S(e){let{loading:t,...n}=e;return(0,r.jsx)(g.Z,{variant:"contained",startIcon:t?(0,r.jsx)(p.Z,{size:20}):(0,r.jsx)(x.Z,{}),sx:{ml:"auto"},type:"submit",...n,children:"Start Planting"})}let Z="100px",M="#f3dabc";function P(e){let[t,n]=(0,d.useState)(!1),{coords:o}=e;return(0,r.jsx)("form",{onSubmit:m({...e,setLoading:n}),children:(0,r.jsx)(l.Z,{position:"static",variant:"outlined",elevation:0,sx:{bgcolor:M},children:(0,r.jsxs)(s.Z,{variant:"dense",sx:{bgcolor:M,color:"rgb(100,100,100)"},children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"Seed Planting Robot"},"title")}),(0,r.jsx)(c(),{src:"logo.png",alt:"",width:100,height:100}),(0,r.jsxs)(i.Z,{variant:"h5",component:"span",sx:{lineHeight:1,fontWeight:500,letterSpacing:1,ml:1},children:[(0,r.jsx)("strong",{children:"S"}),"eed ",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"P"}),"lanting ",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"R"}),"obot"]}),(0,r.jsx)(h.ZP,{...e}),(0,r.jsx)(S,{loading:t,disabled:t||0==o.length})]})})})}},5970:function(e,t,n){"use strict";n.r(t),n.d(t,{DEFAULT_CENTER:function(){return d},default:function(){return h}});var r=n(5893),l=n(1460),s=n(1990),i=n(1458),o=n(7357),a=n(5152),u=n.n(a),c=n(7294);let d={lat:53.527,lng:-113.53};function h(){let[e,t]=(0,c.useState)(l.TU[0]),[a,h]=(0,c.useState)(1),[x,g]=(0,c.useState)(l.Un.Satellite.url),[p,f]=(0,c.useState)([]),[j,b]=(0,c.useState)(d),[v,m]=(0,c.useState)([]),S=(0,c.useMemo)(()=>u()(()=>Promise.all([n.e(269),n.e(160)]).then(n.bind(n,160)),{loadableGenerated:{webpack:()=>[160]},loading:()=>(0,r.jsx)(i.Z,{}),ssr:!1}),[]),Z={seed:e,setSeed:t,numSeeds:a,setNumSeeds:h,mapTile:x,setMapTile:g,coords:p,setCoords:f,myPosition:j,setMyPosition:b,path:v,setPath:m};return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(s.Z,{...Z}),(0,r.jsx)(S,{...Z})]})}}},function(e){e.O(0,[662,91,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);